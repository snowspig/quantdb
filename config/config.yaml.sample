# 数据库配置
mongodb:
  host: localhost
  port: 27017
  db_name: tushare_data
  username: your_username
  password: your_password
  auth_source: admin
  auth_mechanism: SCRAM-SHA-1
  write_concern:
    w: 1
  read_preference: primaryPreferred
  connection_pool_size: 100
  timeout_ms: 30000
  options:
    connect_timeout_ms: 30000
    socket_timeout_ms: 30000
    max_pool_size: 100
    min_pool_size: 10
    max_idle_time_ms: 10000

# 湘财Tushare API配置
tushare:
  api_key: 'your_tushare_api_key'
  api_url: 'http://api.tushare.pro'
  timeout: 60
  max_retries: 3
  retry_delay: 5

# WAN口端口范围 - 格式为: WAN索引=(起始端口,结束端口)
wan:
  enabled: true
  port_ranges:
    0: [50001, 51000]
    1: [51001, 52000]
    2: [52001, 53000]
  monitoring:
    interval: 60
    timeout: 5
  load_balancing:
    method: round-robin  # round-robin, least-connections, weighted

# 数据更新配置
update:
  daily_update_enabled: true
  daily_update_time: "16:30"
  retry:
    max_attempts: 3
    backoff_factor: 2
    initial_delay: 5
  batch_size: 500
  threads: 4

# 日志配置
logging:
  level: INFO
  format: "{time:YYYY-MM-DD HH:mm:ss} | {level} | {message}"
  file:
    enabled: true
    path: "logs/quant_platform.log"
    rotation: "10 MB"
    retention: "1 month"